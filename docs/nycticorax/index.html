<!doctype html>
<html>

<head>
  <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta name="google" content="notranslate" />
<link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoBAMAAAB+0KVeAAAAGFBMVEUAAAA7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozsmr7C1AAAAB3RSTlMA8o3HRiCjAZ7XVAAAAFRJREFUKM9jGAUMDE6GwiroYkHi5eWFqqhirOnlQFAWgCLIVA4GCiiCjhBBERRBdYhgEYqgOUSwGEVQHCJYSEgQoZ2QRQgnEXI8wpsEAgQRdKOAAQCvriuz6lBMNwAAAABJRU5ErkJggg==" />
<link rel="stylesheet" href="/dist/page.93c22c11.css" />

  <title>

AM 02:00 / nycticorax

</title>
</head>

<body>

<div class="main">
  <div class="left">
    <div class="top"></div>
    <div class="bottom"></div>
  </div>
  <div class="right">
  
<div id="main-content"><div id="readme" class="instapaper_body md" data-path="README.md"><article class="markdown-body entry-content p-5" itemprop="text"><h1><a id="user-content-nycticorax" class="anchor" aria-hidden="true" href="#nycticorax"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>nycticorax</h1>
<p><a href="https://travis-ci.org/fratercula/nycticorax" rel="nofollow"><img src="https://camo.githubusercontent.com/6c08dc668e9147924ede6e60e81f290eb27501b6/68747470733a2f2f7472617669732d63692e6f72672f66726174657263756c612f6e79637469636f7261782e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/fratercula/nycticorax.svg?branch=master" style="max-width:100%;"></a>
<a href="https://codecov.io/gh/fratercula/nycticorax" rel="nofollow"><img src="https://camo.githubusercontent.com/46981597fad81cedc55ea720b2f446ef8907e74f/68747470733a2f2f636f6465636f762e696f2f67682f66726174657263756c612f6e79637469636f7261782f6272616e63682f6d61737465722f67726170682f62616467652e737667" alt="codecov" data-canonical-src="https://codecov.io/gh/fratercula/nycticorax/branch/master/graph/badge.svg" style="max-width:100%;"></a></p>
<p>state container for JavaScript application, and React</p>
<h2><a id="user-content-install" class="anchor" aria-hidden="true" href="#install"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Install</h2>
<div class="highlight highlight-source-shell"><pre>$ npm i nycticorax</pre></div>
<h2><a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Usage</h2>
<p>for <code>React</code>, it is simple use, <strong>not</strong> <code>Provider</code>, <code>reducer</code>, <code>action</code>, <strong>only</strong> <code>connect</code></p>
<p><a href="https://fratercula.github.io/nycticorax/" rel="nofollow">demo</a> | <a href="https://jsfiddle.net/am0200/gba9sdLp/" rel="nofollow">counter</a> | <a href="https://jsfiddle.net/am0200/0L87d29h/" rel="nofollow">counter(strict mode)</a></p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">import</span> <span class="pl-smi">React</span>, { <span class="pl-smi">Component</span> } <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>react<span class="pl-pds">'</span></span>
<span class="pl-k">import</span> { <span class="pl-smi">connect</span> } <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>nycticorax<span class="pl-pds">'</span></span>

<span class="pl-k">class</span> <span class="pl-en">A</span> <span class="pl-k">extends</span> <span class="pl-e">Component</span> {
  <span class="pl-en">onClick</span> <span class="pl-k">=</span> () <span class="pl-k">=&gt;</span> {
    <span class="pl-c1">this</span>.<span class="pl-smi">props</span>.<span class="pl-en">dispatch</span>({ <span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-c1">1</span> }) <span class="pl-c"><span class="pl-c">//</span> update</span>
  }

  <span class="pl-en">render</span>() {
    <span class="pl-k">const</span> { <span class="pl-c1">name</span> } <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-smi">props</span> <span class="pl-c"><span class="pl-c">//</span> props</span>
    <span class="pl-k">return</span> (
      <span class="pl-k">&lt;</span>div<span class="pl-k">&gt;</span>
        <span class="pl-k">&lt;</span>p<span class="pl-k">&gt;</span>{name}<span class="pl-k">&lt;</span><span class="pl-k">/</span>p<span class="pl-k">&gt;</span>
        <span class="pl-k">&lt;</span>button onClick<span class="pl-k">=</span>{<span class="pl-c1">this</span>.<span class="pl-smi">onClick</span>}<span class="pl-k">&gt;</span>set<span class="pl-k">&lt;</span><span class="pl-k">/</span>button<span class="pl-k">&gt;</span>
      <span class="pl-k">&lt;</span><span class="pl-k">/</span>div<span class="pl-k">&gt;</span>
    )
  }
}

<span class="pl-k">export</span> <span class="pl-c1">default</span> <span class="pl-smi">connect</span>(<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>)(<span class="pl-c1">A</span>) <span class="pl-c"><span class="pl-c">//</span> connect</span></pre></div>
<p>specified instance</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">import</span> <span class="pl-smi">React</span> <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>react<span class="pl-pds">'</span></span>
<span class="pl-k">import</span> <span class="pl-smi">Nycticorax</span> <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>nycticorax<span class="pl-pds">'</span></span>

<span class="pl-k">const</span> { <span class="pl-c1">createStore</span>, <span class="pl-c1">connect</span> } <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Nycticorax</span>()

<span class="pl-en">createStore</span>({ name<span class="pl-k">:</span> <span class="pl-c1">1</span> })

<span class="pl-k">function</span> <span class="pl-en">X</span>({ dispatch, name }) {
  <span class="pl-k">return</span> (
    <span class="pl-k">&lt;</span>div<span class="pl-k">&gt;</span>
      <span class="pl-k">&lt;</span>h2<span class="pl-k">&gt;</span>Component <span class="pl-c1">X</span> <span class="pl-k">&lt;</span><span class="pl-k">/</span>h2<span class="pl-k">&gt;</span>
      <span class="pl-k">&lt;</span>p<span class="pl-k">&gt;</span>name<span class="pl-k">:</span> {name}<span class="pl-k">&lt;</span><span class="pl-k">/</span>p<span class="pl-k">&gt;</span>
      <span class="pl-k">&lt;</span>button onClick<span class="pl-k">=</span>{() <span class="pl-k">=&gt;</span> <span class="pl-en">dispatch</span>({ name<span class="pl-k">:</span> <span class="pl-c1">2</span> })}<span class="pl-k">&gt;</span>set name<span class="pl-k">&lt;</span><span class="pl-k">/</span>button<span class="pl-k">&gt;</span>
    <span class="pl-k">&lt;</span><span class="pl-k">/</span>div<span class="pl-k">&gt;</span>
  )
}

<span class="pl-k">export</span> <span class="pl-c1">default</span> <span class="pl-smi">connect</span>(<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>)(<span class="pl-c1">X</span>)</pre></div>
<h2><a id="user-content-api" class="anchor" aria-hidden="true" href="#api"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API</h2>
<p>you can use <code>nycticorax</code> without <code>React</code></p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">import</span> {
  <span class="pl-smi">dispatch</span>,
  <span class="pl-smi">createStore</span>,
  <span class="pl-smi">getStore</span>,
  <span class="pl-smi">subscribe</span>,
  <span class="pl-smi">connect</span>,
} <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>nycticorax<span class="pl-pds">'</span></span></pre></div>
<h3><a id="user-content-createstore" class="anchor" aria-hidden="true" href="#createstore"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>createStore</h3>
<p>create initial store</p>
<div class="highlight highlight-source-js"><pre><span class="pl-en">createStore</span>({ name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>nycticorax<span class="pl-pds">'</span></span> })</pre></div>
<h3><a id="user-content-getstore" class="anchor" aria-hidden="true" href="#getstore"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>getStore</h3>
<p>get current store</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> get all store value</span>
<span class="pl-k">const</span> <span class="pl-c1">store</span> <span class="pl-k">=</span> <span class="pl-en">getStore</span>() <span class="pl-c"><span class="pl-c">//</span> { name: 'nycticorax' }</span>

<span class="pl-c"><span class="pl-c">//</span> specified key</span>
<span class="pl-k">const</span> { <span class="pl-c1">name</span> } <span class="pl-k">=</span> <span class="pl-en">getStore</span>(<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>) <span class="pl-c"><span class="pl-c">//</span> nycticorax</span>

<span class="pl-c"><span class="pl-c">//</span> mutiple</span>
<span class="pl-k">const</span> { <span class="pl-c1">name</span>, <span class="pl-c1">another</span> } <span class="pl-k">=</span> <span class="pl-en">getStore</span>(<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>another<span class="pl-pds">'</span></span>)</pre></div>
<h3><a id="user-content-dispatch" class="anchor" aria-hidden="true" href="#dispatch"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>dispatch</h3>
<p>update store</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> update store key `name`, value is `lorem`</span>
<span class="pl-en">dispatch</span>({ name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>lorem<span class="pl-pds">'</span></span> })

<span class="pl-c"><span class="pl-c">//</span> multiple key</span>
<span class="pl-en">dispatch</span>({ name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>lorem<span class="pl-pds">'</span></span>, another<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>ipsum<span class="pl-pds">'</span></span> })

<span class="pl-c"><span class="pl-c">//</span> async</span>
<span class="pl-k">function</span> <span class="pl-en">asyncDispatch</span>({ dispatch, getStore }, <span class="pl-k">...</span><span class="pl-v">args</span>) {
  <span class="pl-en">console</span>.<span class="pl-c1">log</span>(args)
  <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Promise</span>((<span class="pl-smi">resolve</span>) <span class="pl-k">=&gt;</span> {
    <span class="pl-c"><span class="pl-c">//</span> get current store</span>
    <span class="pl-k">const</span> { <span class="pl-c1">name</span> } <span class="pl-k">=</span> <span class="pl-en">getStore</span>()

    <span class="pl-c"><span class="pl-c">//</span> update name</span>
    <span class="pl-en">dispatch</span>({ name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>a<span class="pl-pds">'</span></span> })

    <span class="pl-c1">setTimeout</span>(() <span class="pl-k">=&gt;</span> {
      <span class="pl-en">dispatch</span>({ name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span> })

      <span class="pl-c"><span class="pl-c">//</span> resolve</span>
      <span class="pl-en">resolve</span>(name)
    }, <span class="pl-c1">1000</span>)
  })
}
<span class="pl-en">dispatch</span>(asyncDispatch, <span class="pl-s"><span class="pl-pds">'</span>a<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span>).<span class="pl-c1">then</span>(() <span class="pl-k">=&gt;</span> {
  <span class="pl-en">dispatch</span>({ name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>c<span class="pl-pds">'</span></span> })
}</pre></div>
<p>by default, <code>dispatch</code> will be <code>merged</code></p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> this</span>
<span class="pl-en">dispatch</span>({ a<span class="pl-k">:</span> <span class="pl-c1">1</span>, b<span class="pl-k">:</span> <span class="pl-c1">2</span> })
<span class="pl-en">dispatch</span>({ b<span class="pl-k">:</span> <span class="pl-c1">1</span> })

<span class="pl-c"><span class="pl-c">//</span> will be merged as</span>
<span class="pl-en">dispatch</span>({ a<span class="pl-k">:</span> <span class="pl-c1">1</span>, b<span class="pl-k">:</span> <span class="pl-c1">1</span> })</pre></div>
<p>and <code>dispatch</code> is <code>async</code>, but except <code>async dispatch</code></p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> async</span>
<span class="pl-en">createStore</span>({ a<span class="pl-k">:</span> <span class="pl-c1">1</span> })
<span class="pl-en">dispatch</span>({ a<span class="pl-k">:</span> <span class="pl-c1">2</span> })
<span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-en">getStore</span>(<span class="pl-s"><span class="pl-pds">'</span>a<span class="pl-pds">'</span></span>)) <span class="pl-c"><span class="pl-c">//</span> { a: 1 }</span>
<span class="pl-c1">setTimeout</span>(() <span class="pl-k">=&gt;</span> <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-en">getStore</span>(<span class="pl-s"><span class="pl-pds">'</span>a<span class="pl-pds">'</span></span>))) <span class="pl-c"><span class="pl-c">//</span> { a: 2 }</span>

<span class="pl-k">function</span> <span class="pl-en">asyncDispatch</span>({ dispatch, getStore }) {
  <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Promise</span>((<span class="pl-smi">resolve</span>) <span class="pl-k">=&gt;</span> {
    <span class="pl-c"><span class="pl-c">//</span> update name</span>
    <span class="pl-en">dispatch</span>({ name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>a<span class="pl-pds">'</span></span> }) <span class="pl-c"><span class="pl-c">//</span> sync dispatch</span>
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-en">getStore</span>(<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>)) <span class="pl-c"><span class="pl-c">//</span> a</span>

    <span class="pl-c1">setTimeout</span>(() <span class="pl-k">=&gt;</span> {
      <span class="pl-en">dispatch</span>({ name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>b<span class="pl-pds">'</span></span> }) <span class="pl-c"><span class="pl-c">//</span> sync dispatch</span>
      <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-en">getStore</span>(<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>)) <span class="pl-c"><span class="pl-c">//</span> b</span>

      <span class="pl-c"><span class="pl-c">//</span> resolve</span>
      <span class="pl-en">resolve</span>(name)
    }, <span class="pl-c1">1000</span>)
  })
}</pre></div>
<p>set <code>dispatch</code> to <code>sync</code></p>
<div class="highlight highlight-source-js"><pre><span class="pl-en">createStore</span>({ a<span class="pl-k">:</span> <span class="pl-c1">1</span> })
<span class="pl-en">dispatch</span>({ a<span class="pl-k">:</span> <span class="pl-c1">2</span> }, <span class="pl-s"><span class="pl-pds">'</span>sync<span class="pl-pds">'</span></span>) <span class="pl-c"><span class="pl-c">//</span> add `sync` flag</span>
<span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-en">getStore</span>(<span class="pl-s"><span class="pl-pds">'</span>a<span class="pl-pds">'</span></span>)) <span class="pl-c"><span class="pl-c">//</span> { a: 2 }</span></pre></div>
<h3><a id="user-content-subscribe" class="anchor" aria-hidden="true" href="#subscribe"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>subscribe</h3>
<p>subscribe listeners for watching store change</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">const</span> <span class="pl-c1">unsubscribe</span> <span class="pl-k">=</span> <span class="pl-en">subscribe</span>((<span class="pl-smi">keys</span>) <span class="pl-k">=&gt;</span> {
  <span class="pl-en">console</span>.<span class="pl-c1">log</span>(keys) <span class="pl-c"><span class="pl-c">//</span> change keys</span>
})
<span class="pl-en">unsubscribe</span>() <span class="pl-c"><span class="pl-c">//</span> unsubscribe</span></pre></div>
<h3><a id="user-content-connect" class="anchor" aria-hidden="true" href="#connect"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>connect</h3>
<p>for <code>React</code> only</p>
<div class="highlight highlight-source-js"><pre><span class="pl-en">connect</span>(<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>another<span class="pl-pds">'</span></span>)(ReactComponent)</pre></div>
<p>example</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">import</span> <span class="pl-smi">React</span>, { <span class="pl-smi">Component</span> } <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>react<span class="pl-pds">'</span></span>
<span class="pl-k">import</span> { <span class="pl-smi">connect</span> } <span class="pl-k">from</span> <span class="pl-s"><span class="pl-pds">'</span>nycticorax<span class="pl-pds">'</span></span>

<span class="pl-k">class</span> <span class="pl-en">A</span> <span class="pl-k">extends</span> <span class="pl-e">Component</span> {
  <span class="pl-en">onClick</span> <span class="pl-k">=</span> () <span class="pl-k">=&gt;</span> {
    <span class="pl-c1">this</span>.<span class="pl-smi">props</span>.<span class="pl-en">dispatch</span>({ <span class="pl-s"><span class="pl-pds">'</span>number<span class="pl-pds">'</span></span><span class="pl-k">:</span> <span class="pl-c1">1</span> })
  }

  <span class="pl-en">render</span>() {
    <span class="pl-k">const</span> { <span class="pl-c1">name</span>, <span class="pl-c1">another</span> } <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-smi">props</span>
    <span class="pl-k">return</span> (
      <span class="pl-k">&lt;</span>div<span class="pl-k">&gt;</span>
        <span class="pl-k">&lt;</span>h2<span class="pl-k">&gt;</span>Component <span class="pl-c1">A</span><span class="pl-k">&lt;</span><span class="pl-k">/</span>h2<span class="pl-k">&gt;</span>
        <span class="pl-k">&lt;</span>p<span class="pl-k">&gt;</span>name<span class="pl-k">:</span> {name}<span class="pl-k">&lt;</span><span class="pl-k">/</span>p<span class="pl-k">&gt;</span>
        <span class="pl-k">&lt;</span>p<span class="pl-k">&gt;</span>Click to change value<span class="pl-k">:</span> <span class="pl-c1">Number</span><span class="pl-k">&lt;</span><span class="pl-k">/</span>p<span class="pl-k">&gt;</span>
        <span class="pl-k">&lt;</span>button onClick<span class="pl-k">=</span>{<span class="pl-c1">this</span>.<span class="pl-smi">onClick</span>}<span class="pl-k">&gt;</span>set <span class="pl-c1">Number</span> <span class="pl-c1">1</span><span class="pl-k">&lt;</span><span class="pl-k">/</span>button<span class="pl-k">&gt;</span>
      <span class="pl-k">&lt;</span><span class="pl-k">/</span>div<span class="pl-k">&gt;</span>
    )
  }
}

<span class="pl-k">export</span> <span class="pl-c1">default</span> <span class="pl-smi">connect</span>(<span class="pl-s"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>another<span class="pl-pds">'</span></span>)(<span class="pl-c1">A</span>)</pre></div>
<h2><a id="user-content-development" class="anchor" aria-hidden="true" href="#development"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Development</h2>
<div class="highlight highlight-source-shell"><pre><span class="pl-c"><span class="pl-c">#</span> install `falco` global</span>
$ npm i @fratercula/falco -g

<span class="pl-c"><span class="pl-c">#</span> start</span>
$ npm start

<span class="pl-c"><span class="pl-c">#</span> build</span>
$ npm run build

<span class="pl-c"><span class="pl-c">#</span> lint</span>
$ npm run test:lint

<span class="pl-c"><span class="pl-c">#</span> test</span>
$ npm run test:unit</pre></div>
<h2><a id="user-content-license" class="anchor" aria-hidden="true" href="#license"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>License</h2>
<p>MIT</p>
<h2><a id="user-content-relevance" class="anchor" aria-hidden="true" href="#relevance"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Relevance</h2>
<p>Nycticorax</p>
</article></div></div>
<script>
window.repos = '[{"name":"acyort","description":"A Node.js static website framework"},{"name":"nycticorax","description":"State container for JavaScript application, and React"},{"name":"Mirror","description":"A blogging tool powered by GitHub API. Write your blog on GitHub issue."},{"name":"pavane","description":"LiveReload Server"},{"name":"falco","description":"JavaScript Runner"},{"name":"Diaspora","description":"Diaspora - A WordPress theme"}]'
</script>

  </div>
</div>

<div id="toast">cheats: ↑ ↑ ↓ ↓ ← → ← → b a</div>

<div id="menu"></div>

<div id="popup">
  <div class="inner">
    <h3>version</h3>
    <div>
      <a target="_blank" href="/version/v1/">v1</a>
      <a target="_blank" href="/version/v2/">v2</a>
      <a target="_blank" href="/version/v3/">v3</a>
      <a target="_blank" href="/version/v4/">v4</a>
      <a target="_blank" href="/version/v5/">v5</a>
    </div>
  </div>
</div>

<script src=""></script>


</body>
</html>
